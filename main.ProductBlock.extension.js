!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=1)}([function(t){t.exports=JSON.parse('{"rowCount":1,"totalCount":1,"composition":{"variables":[{"variable":"p_image","visibilityAreaSelector":".ext-product-image","canHide":true,"hidden":false},{"variable":"p_name","visibilityAreaSelector":".ext-product-name","canHide":true,"hidden":false},{"variable":"p_vendor_code","visibilityAreaSelector":".ext-product-vendor-code","canHide":true,"hidden":true},{"variable":"p_dimensions","visibilityAreaSelector":".ext-product-dimensions","canHide":true,"hidden":true},{"variable":"p_price","visibilityAreaSelector":".ext-product-price","canHide":true,"hidden":false},{"variable":"p_button","visibilityAreaSelector":".ext-product-button","canHide":true,"hidden":false}]}}')},function(t,e,n){t.exports=n(2)},function(t,e,n){"use strict";n.r(e);var o={name:null,iconClass:null,uniqueClassName:null,canBeSavedToLibrary:!1,settingsCssPath:null,previewCssPath:null,i18n:{},blockName:null,emptyContainerIcon:!1,blockType:null,blockConfigAttributeNames:[],controlsToCreate:[],blockControls:[],isEnabled:function(){return!0},emailInitialized:function(t){},onSelectBlock:function(t){},getBlockLayoutToDrop:function(){return"<td>Default block</td>"},blockDropped:function(t){},getBlockLabel:function(t){return"Default block"},getDefaultSettingsPanelState:function(t){return{}},onCleanLayout:function(t,e){},onBlockCopy:function(t,e){}},r="".concat("demoProductBlock","_blockBorder_control"),i="".concat("demoProductBlock","_blockPadding_control"),c="".concat("demoProductBlock","_blockGroups_control"),a="".concat("demoProductBlock","_cardOrientation_control"),l="".concat("demoProductBlock","_cardsInRowCount_control"),s="".concat("demoProductBlock","_cardBackgroundColor_control"),u="".concat("demoProductBlock","_cardBorder_control"),p="".concat("demoProductBlock","_cardComposition_control"),b="".concat("demoProductBlock","_cardTextColor_control"),d="".concat("demoProductBlock","_cardTextAlign_control"),f="".concat("demoProductBlock","_cardTextStyle_control"),g="".concat("demoProductBlock","_cardTextPadding_control"),h="".concat("demoProductBlock","_cardTextLineSpacing_control"),m="".concat("demoProductBlock","_cardButtonText_control"),y="".concat("demoProductBlock","_cardButtonStyle_control"),O="".concat("demoProductBlock","_cardButtonColor_control"),v="".concat("demoProductBlock","_cardButtonTextColor_control"),j="".concat("demoProductBlock","_cardButtonBorder_control"),P="".concat("demoProductBlock","_cardButtonBorderRadius_control"),C="".concat("demoProductBlock","_cardButtonAlign_control"),w="".concat("demoProductBlock","_cardButtonStretch_control"),k="".concat("demoProductBlock","_cardButtonExternalPadding_control"),S="".concat("demoProductBlock","_cardButtonInternalPadding_control"),D="".concat("demoProductBlock","_cardImageSize_control"),E={en:{"block.name":"Demo-Product","preview.label":"Products","preview.empty.description":"Select products group","preview.layout.demo.name":"Product name","preview.layout.demo.vendorCode":"Vendor code","preview.layout.demo.dimensions":"WxHxD: $0x$1x$2 mm","preview.layout.demo.button":"Buy","settings.controls.blockBorder.label":"Block border","settings.controls.blockPadding.label":"Row padding","settings.controls.blockPadding.mobile.label":"Row mobile padding","settings.controls.blockMargin.label":"Block margin","settings.controls.bgColor.label":"Card background color","settings.controls.cardBorder.label":"Card border","settings.controls.cardButtonExternalPadding.label":"External padding","settings.controls.cardButtonExternalPadding.mobile.label":"External mobile padding","settings.controls.composition.label":"Product card composition","settings.controls.composition.edit":"Edit","settings.controls.composition.changePosition":"Change position","settings.controls.composition.variable.p_image":"Image","settings.controls.composition.variable.p_name":"Name","settings.controls.composition.variable.p_vendor_code":"Vendor code","settings.controls.composition.variable.p_dimensions":"Dimensions","settings.controls.composition.variable.p_price":"Price","settings.controls.composition.variable.p_button":"Button","settings.controls.groups.empty":"Select the group","settings.controls.groups.units":"$0 units","settings.controls.orientation.label":"Orientation","settings.controls.orientation.horizontal":"Horizontal","settings.controls.orientation.vertical":"Vertical","settings.controls.rowCount.label":"Products in one row"},ru:{"block.name":"Демо-Товар","preview.label":"Товары","preview.empty.description":"Выберите группу товаров","preview.layout.demo.name":"Название товара","preview.layout.demo.vendorCode":"Артикул: $0","preview.layout.demo.dimensions":"ШxВxГ: $0x$1x$2 мм","preview.layout.demo.button":"Купить","settings.controls.bgColor.label":"Цвет фона карточки товара","settings.controls.composition.label":"Состав карточки товара","settings.controls.composition.edit":"Редактировать","settings.controls.composition.changePosition":"Изменить позицию элемента","settings.controls.composition.variable.p_image":"Фотография","settings.controls.composition.variable.p_name":"Название","settings.controls.composition.variable.p_vendor_code":"Артикул","settings.controls.composition.variable.p_dimensions":"Габариты","settings.controls.composition.variable.p_price":"Цена","settings.controls.composition.variable.p_button":"Кнопка","settings.controls.groups.empty":"Выберите группу","settings.controls.groups.units":"$0 шт","settings.controls.orientation.label":"Ориентация карточки товара","settings.controls.orientation.horizontal":"Горизонтальная","settings.controls.orientation.vertical":"Вертикальная","settings.controls.rowCount.label":"Карточек товара в строке"}},x={onActivated:function(){this.registerSettingsEventListener("layoutChanged",this.layoutChanged.bind(this))},layoutChanged:function(){this.applyThemeFromConfig(),this.updateControlVisibility()},applyThemeFromConfig:function(){this.themeKey&&this.isControlVisible()&&this.panelState.blockConfig.theme[this.themeKey]&&this.updateControlValue(this.panelState.blockConfig.theme[this.themeKey])},controlValueUpdated:function(t){this.themeKey&&(this.panelState.blockConfig.theme[this.themeKey]=t,this.updateBlockConfiguration())},updateLayout:function(){this.extension.updateLayout(this.jElement,this.panelState.blockConfig)},updateBlockConfiguration:function(){this.extension.blockConfigurationService.setBlockConfiguration(this.jElement,this.panelState.blockConfig)},translate:function(t,e){return this.extension.stripoApi.translate(t,e)},isValuableBlock:function(){return!!this.panelState.blockConfig.groups.length}};function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){T(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var V=_(_({},x),{},{name:s,themeKey:"bgColor",getLabel:function(){return this.translate("settings.controls.bgColor.label")},getInitialColor:function(){return this.panelState.blockConfig.theme&&this.panelState.blockConfig.theme.bgColor?this.panelState.blockConfig.theme.bgColor.color:"transparent"},getDomElementsToApplyValue:function(){return"horizontal"==this.panelState.blockConfig.orientation?this.initialDomElement.querySelectorAll(".esd-structure"):this.initialDomElement.querySelectorAll(".esd-container-frame:not(.esd-ignore-theme-settings)>table")},isControlVisible:function(){return this.isValuableBlock()}});function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){L(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R={borderWidth:0,borderStyle:"solid",borderColor:void 0},K=A(A({},x),{},{name:u,themeKey:"cardBorder",getLabel:function(){return this.translate("settings.controls.cardBorder.label")},getBorderStyleValue:function(){return this.panelState.blockConfig.theme&&this.panelState.blockConfig.theme.cardBorder?this.panelState.blockConfig.theme.cardBorder:{top:A({},R),right:A({},R),bottom:A({},R),left:A({},R)}},getDomElementsToApplyValue:function(){return"horizontal"==this.panelState.blockConfig.orientation?this.initialDomElement.querySelectorAll(".esd-structure"):this.initialDomElement.querySelectorAll(".esd-container-frame:not(.esd-ignore-theme-settings)>table")},isControlVisible:function(){return this.isValuableBlock()}});function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var F=[{id:1,tooltipKey:"settings.controls.orientation.horizontal",value:"horizontal",class:"es-icon-product-horizontal"},{id:2,tooltipKey:"settings.controls.orientation.vertical",value:"vertical",class:"es-icon-product-vertical"}],G=U(U({},x),{},{name:a,render:function(){var t=this;this.jContainer.html(this.getControlMarkup()),this.buttons=[].concat(F).map((function(e){return Object.assign({},e,{tooltip:t.translate(e.tooltipKey),active:t.panelState.blockConfig.orientation===e.value})})),this.buttonsSelector=this.jContainer.find("buttons-selector")[0],this.buttonsSelector.props.buttons=this.buttons,this.buttonsSelector.props.onButtonSelected=this.onButtonSelected.bind(this)},onButtonSelected:function(t){this.panelState.blockConfig.orientation=t.value,this.toggleButtonAdjustToWidth(),this.updateLayout(),this.applyChangesImmediately()},toggleButtonAdjustToWidth:function(){var t="vertical"==this.panelState.blockConfig.orientation,e=this.panelState.blockConfig.composition.variables.find((function(t){return"p_button"==t.variable})).theme;e.buttonStretch=t,t?(e.buttonInternalPadding.desktop.left=0,e.buttonInternalPadding.desktop.right=0,delete this.panelState.internalIndentLeft,delete this.panelState.internalIndentRight):(e.buttonInternalPadding.desktop.left=40,e.buttonInternalPadding.desktop.right=40)},layoutChanged:function(){var t=this;this.isControlVisible()&&(this.buttonsSelector.props.buttons=this.buttonsSelector.props.buttons.map((function(e){return e.active=t.panelState.blockConfig.orientation===e.value,e}))),this.updateControlVisibility()},getControlMarkup:function(){return'<div class="form-group">\n                <label class="col-xs-7 control-label">'.concat(this.translate("settings.controls.orientation.label"),'</label>\n                <div class="col-xs-5 pull-right">\n                    <buttons-selector classes="btn-group-justified orientation-control"></buttons-selector>\n                </div>\n            </div>')},isControlVisible:function(){return this.isValuableBlock()}});function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){q(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var W=M(M({},x),{},{name:l,render:function(){this.jContainer.html(this.getControlMarkup()),this.numberSelector=this.jContainer.find("number-selector")[0],this.numberSelector.props.value=this.panelState.blockConfig.rowCount,this.numberSelector.props.onChange=this.onChange.bind(this)},onChange:function(t){var e=this;this.extension.stripoApi.runWithDelay("totalCountChange",(function(){e.panelState.blockConfig.rowCount=t,e.updateLayout(),e.applyChangesImmediately()}),300)},layoutChanged:function(){this.isControlVisible()&&(this.numberSelector.props.value=this.panelState.blockConfig.rowCount),this.updateControlVisibility()},getControlMarkup:function(){return'<number-selector label="'.concat(this.translate("settings.controls.rowCount.label"),'" \n            min="1" max="4" step="1"></number-selector>')},isControlVisible:function(){return this.isValuableBlock()&&"vertical"==this.panelState.blockConfig.orientation}});function $(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$(Object(n),!0).forEach((function(e){J(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var X={p_image:[D],p_name:[b,d,f,h,g],p_vendor_code:[b,d,f,h,g],p_dimensions:[b,d,f,h,g],p_price:[b,d,f,h,g],p_button:[m,y,O,v,P,C,w,j,S,k]},Y=Q(Q({},x),{},{name:p,internalControls:[],render:function(){this.jContainer.html(this.getControlLayout()),this.jItemsContainer=this.jContainer.find(".composition-items"),this.orderedVariables=this.getOrderedVariables(),this.jItemsContainer.html(this.getControlItemsLayout()),this.activateInternalVariableControls(),this.disableHideSingleVisibleElement(),this.bindEvents()},layoutChanged:function(){var t=this;this.isControlVisible()&&(this.reOrderVariableControls(),this.jItemsContainer.find(".cursor-reorder").toggleClass("hidden-area",!this.isChangePositionSupported()),this.panelState.blockConfig.composition.variables.forEach((function(e){var n=t.jItemsContainer.find('[data-varname="'.concat(e.variable,'"]')),o=n.find(".product-element-switcher");o.prop("checked")==e.hidden&&o.prop("checked",!e.hidden),n.find(".product-composition-internal-controls-container, .es-icon-chevron-up").toggleClass("hidden-area",e.hidden)})),this.updateSortableAbility()),this.updateControlVisibility()},isChangePositionSupported:function(){return"vertical"===this.panelState.blockConfig.orientation},reOrderVariableControls:function(){var t=this,e={},n=this;this.jItemsContainer.find(".composition-item").each((function(){var t=n.extension.stripoApi.jQuery(this);e[t.data("varname")]=t.detach()})),this.orderedVariables=this.getOrderedVariables(),this.orderedVariables.forEach((function(n){t.jItemsContainer.append(e[n.variable])}))},updateSortableAbility:function(){var t=this.jItemsContainer.find(".rotate180:not(.".concat("hidden-area",")")).length,e=this.jItemsContainer.find(".cursor-reorder");t?e.hide():e.show()},bindEvents:function(){var t=this;this.jItemsContainer.find(".product-element-switcher").on("click.compositionItems",(function(e){var n=t.extension.stripoApi.jQuery(e.target).closest(".composition-item").data("varname");t.switchVariableVisibility(n)})),this.jItemsContainer.find(".es-icon-chevron-up").on("click.compositionItems",(function(e){t.extension.stripoApi.jQuery(e.target).toggleClass("rotate90").toggleClass("rotate180"),t.updateSortableAbility()})),this.jItemsContainer.sortable({axis:"y",containment:".composition-items",items:".composition-item",cursor:"move",handle:".cursor-reorder",tolerance:"pointer",start:this.onDragStart.bind(this),stop:this.onDragStop.bind(this)})},onDragStart:function(t,e){e.item.addClass("composition-item-drag-start")},onDragStop:function(t,e){e.item.removeClass("composition-item-drag-start"),this.reOrderVariables()},reOrderVariables:function(){for(var t=this,e=this.jItemsContainer.find(".composition-item"),n=function(n){var o=t.extension.stripoApi.jQuery(e[n]).data("varname");t.panelState.blockConfig.composition.variables.find((function(t){return t.variable==o})).positionIdx=n+1},o=0;o<e.length;o++)n(o);this.updateLayout(),this.applyChanges()},switchVariableVisibility:function(t){var e=this,n=this.panelState.blockConfig.composition.variables.find((function(e){return e.variable==t}));n.hidden=!n.hidden,this.jItemsContainer.find('.composition-item[data-varname="'.concat(n.variable,'"]')).find(".product-composition-internal-controls-container, .es-icon-chevron-up").toggleClass("hidden-area",n.hidden),this.disableHideSingleVisibleElement(),this.updateSortableAbility(),this.extension.stripoApi.runWithDelay("totalCountChange",(function(){e.updateLayout(),e.applyChangesImmediately()}),300)},disableHideSingleVisibleElement:function(){var t=this.panelState.blockConfig.composition.variables.filter((function(t){return!t.hidden}));1==t.length?this.jItemsContainer.find('.composition-item[data-varname="'.concat(t[0].variable,'"]')).find(".variable-visibility-switcher, .product-element-switcher").attr("disabled",!0):this.jItemsContainer.find("\n                        .composition-item .variable-visibility-switcher[disabled][canhide], \n                        .composition-item .variable-visibility-switcher[canhide] .product-element-switcher[disabled]").removeAttr("disabled")},unbindEvents:function(){this.jItemsContainer.sortable("destroy"),this.jItemsContainer.find(".product-element-switcher").off(".compositionItems"),this.jItemsContainer.find(".es-icon-chevron-up").off(".compositionItems")},getOrderedVariables:function(){return this.isChangePositionSupported()?this.panelState.blockConfig.composition.variables.map((function(t,e){return t.positionIdx||t.positionIdx,t})).sort((function(t,e){return t.positionIdx-e.positionIdx})):this.panelState.blockConfig.composition.variables},onDeactivate:function(){this.unbindEvents()},activateInternalVariableControls:function(){var t=this;this.internalControls.forEach((function(t){t.deactivate()})),this.internalControls=[],Object.keys(X).forEach((function(e){for(var n=t.orderedVariables.find((function(t){return t.variable==e})),o=t.jItemsContainer.find("#product".concat(e,"Option")),r=X[e],i=0;i<r.length;i++){var c='<div class="product-composition-internal-control product-composition-internal-control-'.concat(n.variable,"-").concat(i,'"></div>');o.append(c);var a=t.createInternalControl(r[i]);a&&(a.initializeCompositionInternalControl(n.variable,n.visibilityAreaSelector),t.internalControls.push(a),t.activateInternalControl(a,o.find(".product-composition-internal-control-".concat(n.variable,"-").concat(i))[0],".product-composition-internal-control-".concat(n.variable,"-").concat(i)),a.panelState=t.panelState)}}))},getControlLayout:function(){return"<div>\n                <p>".concat(this.translate("settings.controls.composition.label"),'</p>\n                <div class="composition-items"></div>\n            </div>')},getControlItemsLayout:function(){for(var t="",e=0;e<this.orderedVariables.length;e++)t+=this.getControlItemLayout(this.orderedVariables[e]);return t},getControlItemLayout:function(t){var e=this.translate("settings.controls.composition.variable.".concat(t.variable)),n=!!X[t.variable];return'<div class="form-group composition-item" data-varname="'.concat(t.variable,'">\n                <label class="col-xs-8 control-label">\n                    <span class="esdev-mr15 es-icon-line-height-normal text-gray cursor-reorder \n                            ').concat(this.isChangePositionSupported()?"":"hidden-area",'" \n                            title="').concat(this.translate("settings.controls.composition.changePosition"),'"></span>\n                    ').concat(e,'</a>\n                </label>\n                <div class="col-xs-4">\n                    <label class="variable-visibility-switcher esdev-switch pull-left" ').concat(t.canHide?"canhide":"disabled",'>\n                        <input type="checkbox" class="product-element-switcher" ').concat(t.hidden?"":"checked"," ").concat(t.canHide?"":"disabled",'>\n                        <div class="esdev-slider"></div>\n                    </label>\n                    ').concat(n?'<span class="es-icon-chevron-up rotate90 pull-right shewron '.concat(t.hidden?"hidden-area":"",'" \n                        data-toggle="collapse" data-target="#product').concat(t.variable,'Option" aria-expanded="false" \n                        aria-controls="product').concat(t.variable,'Option" title="').concat(this.translate("settings.controls.composition.edit"),'"></span>'):"","\n                </div>\n                ").concat(n?'<div class="col-xs-12 collapse product-composition-internal-controls-container '.concat(t.hidden?"hidden-area":"",'" \n                    id="product').concat(t.variable,'Option"></div>'):"","\n            </div>")},isControlVisible:function(){return this.isValuableBlock()}});function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){et(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function et(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nt=tt(tt({},x),{},{name:c,render:function(){this.options=this.getOptions(),this.selectedGroups=this.getSelectedGroups(),this.jContainer.html(this.getControlMarkup()),this.dropDown=this.jContainer.find("dropdown-input")[0],this.updateSeparatorVisibility()},getOptions:function(){var t=this;return this.getGroupsFromStripoConfig()?this.getGroupsFromStripoConfig().map((function(e){return{value:e.id,label:e.name,subLabel:t.translate("settings.controls.groups.units",[e.count]),disabled:t.panelState.disabledGroupsIds.includes(e.id)}})):[]},getSelectedGroups:function(){return(this.panelState.blockConfig.groups||[]).map((function(t){return t.id}))},updateSeparatorVisibility:function(){this.setControlsSeparatorVisible(!!this.jElement.attr("data-product-groups"))},onChange:function(t){var e=this;setTimeout((function(){e.panelState.blockConfig.groups=[],t.forEach((function(t){e.panelState.blockConfig.groups.push(e.getGroupsFromStripoConfig().find((function(e){return e.id==t})))})),e.panelState.blockConfig=e.extension.wrapBlockWithTypeIdentifierAttributesAndGetConfig(e.jElement,e.panelState.blockConfig),e.updateLayout(),e.extension.updateBlockLabel(e.jElement),e.applyChanges()}),0)},getGroupsFromStripoConfig:function(){return this.extension.stripoConfig.productDemoBlock.groups},layoutChanged:function(){this.isControlVisible()&&(this.dropDown.props.value=this.getSelectedGroups()),this.updateControlVisibility(),this.updateSeparatorVisibility()},getControlMarkup:function(){return'<div class="form-group">\n            <div class="col-xs-12">\n                <dropdown-input classes="product-groups-picker"\n                                buttonWrapperClasses="form-control"\n                                optionTextClass="text"\n                                globalScope = "'.concat(this.name,'"\n                                mbBindProp-values="options"\n                                mbBindProp-value="selectedGroups"\n                                mbBindProp-on-selected="onChange"\n                                placeholder="').concat(this.translate("settings.controls.groups.empty"),'"\n                                multi="true">                                       \n                </dropdown-input>\n            </div>\n        </div>')}});function ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(n),!0).forEach((function(e){it(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function it(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ct=rt(rt({},x),{},{getDomElementsToApplyValue:function(){return this.initialDomElement.querySelectorAll(this.visibilityAreaSelector)},initializeCompositionInternalControl:function(t,e){this.variable=t,this.visibilityAreaSelector=e},getThemeValueFromConfig:function(){var t=this.getVariableItem();return t.theme?t.theme[this.themeKey]:null},controlValueUpdated:function(t){var e=this.getVariableItem();e.theme||(e.theme={}),this.storeThemeValue(e,t),this.updateBlockConfiguration()},storeThemeValue:function(t,e){t.theme[this.themeKey]=e},applyThemeFromConfig:function(){this.isControlVisible()&&this.updateControlValue(this.getThemeValueFromConfig())},getVariableItem:function(){var t=this;return this.panelState.blockConfig.composition.variables.find((function(e){return e.variable==t.variable}))},isControlVisible:function(){return this.isValuableBlock()&&!this.getVariableItem().hidden}});function at(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?at(Object(n),!0).forEach((function(e){st(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function st(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ut=lt(lt({},ct),{},{name:b,themeKey:"textColor"});function pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(n),!0).forEach((function(e){dt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ft=bt(bt({},ct),{},{name:d,themeKey:"textAlign",storeThemeValue:function(t,e){t.theme[this.themeKey]=Object.assign({},t.theme[this.themeKey],e)}});function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(n),!0).forEach((function(e){mt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yt=ht(ht({},ct),{},{name:f,themeKey:"textStyle",getDomElementsToApplyValue:function(){return this.initialDomElement.querySelectorAll("".concat(this.visibilityAreaSelector," p"))},storeThemeValue:function(t,e){t.theme[this.themeKey]=Object.assign({},t.theme[this.themeKey],e)}});function Ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(n),!0).forEach((function(e){jt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pt=vt(vt({},ct),{},{name:O,themeKey:"buttonColor"});function Ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ct(Object(n),!0).forEach((function(e){kt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var St=wt(wt({},ct),{},{name:y,themeKey:"buttonStyle",storeThemeValue:function(t,e){t.theme[this.themeKey]=Object.assign({},t.theme[this.themeKey],e)}});function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(n),!0).forEach((function(e){xt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bt=Et(Et({},ct),{},{name:m,themeKey:"buttonText"});function _t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(n),!0).forEach((function(e){Vt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var It=Tt(Tt({},ct),{},{name:v,themeKey:"textButtonColor"});function At(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?At(Object(n),!0).forEach((function(e){Rt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Kt=Lt(Lt({},ct),{},{name:P,themeKey:"borderRadius"});function Nt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nt(Object(n),!0).forEach((function(e){zt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ft=Ut(Ut({},ct),{},{name:C,themeKey:"buttonAlign",isControlVisible:function(){return"vertical"==this.panelState.blockConfig.orientation&&this.isValuableBlock()&&!this.getVariableItem().hidden},storeThemeValue:function(t,e){t.theme[this.themeKey]=Object.assign({},t.theme[this.themeKey],e)}});function Gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(n),!0).forEach((function(e){Mt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qt=Ht(Ht({},ct),{},{name:w,themeKey:"buttonStretch",applyThemeFromConfig:function(){var t=this.getThemeValueFromConfig(),e=!!this.panelState.blockConfig.groups.length;null==t?this.updateControlValue(null,e):this.updateControlValue({stretched:!!this.getThemeValueFromConfig()},e)},isControlVisible:function(){return"vertical"==this.panelState.blockConfig.orientation&&this.isValuableBlock()&&!this.getVariableItem().hidden}}),Wt=n(0);function $t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$t(Object(n),!0).forEach((function(e){Jt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Jt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xt(Object(n),!0).forEach((function(e){Zt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var te={borderWidth:0,borderStyle:"solid",borderColor:void 0},ee=Yt(Yt({},x),{},{name:r,themeKey:"blockBorder",getLabel:function(){return this.translate("settings.controls.blockBorder.label")},getBorderStyleValue:function(){return this.panelState.blockConfig.theme&&this.panelState.blockConfig.theme.blockBorder?this.panelState.blockConfig.theme.blockBorder:{top:Yt({},te),right:Yt({},te),bottom:Yt({},te),left:Yt({},te)}},getDomElementsToApplyValue:function(){return[this.initialDomElement]},isControlVisible:function(){return this.isValuableBlock()}});function ne(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ne(Object(n),!0).forEach((function(e){re(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function re(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ie={left:20,top:20,right:20,bottom:0},ce=oe(oe({},x),{},{name:i,themeKey:"blockPadding",getLabel:function(){return this.translate("settings.controls.blockPadding.label")},getMobileLabel:function(){return this.translate("settings.controls.blockPadding.mobile.label")},getPaddingStyleValue:function(){return this.panelState.blockConfig.theme&&this.panelState.blockConfig.theme.blockPadding?this.panelState.blockConfig.theme.blockPadding:{desktop:oe({},ie),mobile:oe({},ie)}},getDomElementsToApplyValue:function(){return this.initialDomElement.querySelectorAll(".esd-structure")},isControlVisible:function(){return this.isValuableBlock()}});function ae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ae(Object(n),!0).forEach((function(e){se(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function se(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ue=le(le({},ct),{},{name:g,themeKey:"textPadding",switchControlId:"spacingsText",initializeCompositionInternalControl:function(t,e){this.variable=t,this.visibilityAreaSelector=e,this.switchControlId="".concat(this.variable,"Padding")},storeThemeValue:function(t,e){t.theme[this.themeKey]=Object.assign({},t.theme[this.themeKey],e)}});function pe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pe(Object(n),!0).forEach((function(e){de(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function de(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fe=be(be({},ct),{},{name:k,themeKey:"buttonExternalPadding",getLabel:function(){return this.translate("settings.controls.cardButtonExternalPadding.label")},getMobileLabel:function(){return this.translate("settings.controls.cardButtonExternalPadding.mobile.label")},storeThemeValue:function(t,e){t.theme[this.themeKey]=Object.assign({},t.theme[this.themeKey],e)}});function ge(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function he(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ge(Object(n),!0).forEach((function(e){me(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function me(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ye=he(he({},ct),{},{name:S,themeKey:"buttonInternalPadding",storeThemeValue:function(t,e){t.theme[this.themeKey]=Object.assign({},t.theme[this.themeKey],e)},layoutChanged:function(){this.applyThemeFromConfig(),this.updateControlVisibility()}});function Oe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(n),!0).forEach((function(e){je(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function je(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pe=ve(ve({},ct),{},{name:h,themeKey:"textLineSpacing"});function Ce(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function we(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ce(Object(n),!0).forEach((function(e){ke(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Se=we(we({},ct),{},{name:j,themeKey:"buttonBorder"});function De(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ee(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?De(Object(n),!0).forEach((function(e){xe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Be=Ee(Ee({},ct),{},{name:D,themeKey:"imageSize"});function _e(t,e,n){var o=function(t){function e(t){var e=t.attr("esd-dev-product-config");return e?JSON.parse(e.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#x27;/g,"'").replace(/&quot;/g,'"')):null}return{getBlockConfiguration:e,setBlockConfiguration:function(t,e){t.attr("esd-dev-product-config",JSON.stringify(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;"))},getOrCreateConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.composition=e.composition||Qt({},Wt.composition),e.theme=e.theme||{},e.orientation=e.orientation||e.recommendationsOrientation||"vertical",e.groups=e.groups||[],e.rowCount=e.rowCount||t.productDemoBlock.rowCount||3,e.totalCount=e.groups.reduce((function(t,e){return t+e.count}),0),e},getBlockConfigurationForCopiedBlock:function(t){var n=e(t);return n.recommendationsOrientation="vertical",n.rowCount=3,n.groups=[],n}}}(t);function r(){return[{key:"#PRODUCT_IMAGE_SRC#",value:"".concat(n,"/assets/images/image-placeholder.png")},{key:"#PRODUCT_TITLE#",value:e.translate("preview.layout.demo.name")},{key:"#PRODUCT_VENDOR_CODE#",value:e.translate("preview.layout.demo.vendorCode",[5803701783])},{key:"#PRODUCT_PRICE#",value:"1 234 ₽"},{key:"#PRODUCT_DIMENSIONS#",value:e.translate("preview.layout.demo.dimensions",[430,32,149])},{key:"#PRODUCT_BUTTON_TEXT#",value:e.translate("preview.layout.demo.button"),skipDecode:!0}]}function b(t){var e=t;return r().forEach((function(t){e=e.replace(new RegExp(t.key,"g"),t.value)})),e}function d(t,n){if(t.attr("data-product-groups"))switch(n.orientation){case"vertical":e.updateStructureLayoutForVerticalOrientation(t,b('<td width="272" class="esd-container-frame es-m-p20b product-card" align="center" valign="top">\n    <table cellpadding="0" cellspacing="0" width="100%">\n        <tbody>\n            <tr>\n                <td align="center" class="esd-block-image es-p10b ext-product-image" style="font-size: 0px;">\n                    <a target="_blank" href="#PRODUCT_HREF#"><img class="adapt-img esdev-stretch-width" src="#PRODUCT_IMAGE_SRC#"\n                        alt="#PRODUCT_TITLE#" style="display: block;" width="272" title="#PRODUCT_TITLE#"></a></td>\n            </tr>\n            <tr>\n                <td align="left" class="esd-block-text ext-product-name">\n                    <p style="color: #555555; font-size: 14px; line-height: 200%; font-weight: bold;">#PRODUCT_TITLE#</p>\n                </td>\n            </tr>\n            <tr>\n                <td align="left" class="esd-block-text ext-product-vendor-code">\n                    <p style="font-size: 12px; color: #8288ab; line-height: 200%;">#PRODUCT_VENDOR_CODE#</p>\n                </td>\n            </tr>\n            <tr>\n                <td align="left" class="esd-block-text ext-product-price">\n                    <p style="color: #555555; font-size: 14px; line-height: 200%; font-weight: bold;">#PRODUCT_PRICE#</p>\n                </td>\n            </tr>\n            <tr>\n                <td align="left" class="esd-block-text ext-product-dimensions">\n                    <p style="font-size: 12px; color: #8288ab; line-height: 200%;">#PRODUCT_DIMENSIONS#</p>\n                </td>\n            </tr>\n            <tr>\n                <td align="center" class="esd-block-button es-p10t ext-product-button">\n                    <span class="es-button-border" style="display: block">\n                        <a href="#PRODUCT_HREF#" class="es-button" target="_blank" style="display: block">#PRODUCT_BUTTON_TEXT#</a>\n                    </span>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</td>'),n);break;case"horizontal":e.updateStructureLayoutForHorizontalOrientation(t,b('<td class="esd-structure product-card" align="left">\n    \x3c!--[if mso]><table width="560" cellpadding="0" cellspacing="0"><tr><td width="148" valign="top"><![endif]--\x3e\n    <table cellpadding="0" cellspacing="0" class="es-left" align="left">\n        <tbody>\n        <tr>\n            <td width="128" class="es-m-p0r esd-container-frame esd-layout-removable-container-if-empty" valign="top" align="center">\n                <table cellpadding="0" cellspacing="0" width="100%">\n                    <tbody>\n                    <tr>\n                        <td align="center" class="esd-block-image ext-product-image" style="font-size: 0px;">\n                            <a target="_blank" href="#PRODUCT_HREF#"><img class="adapt-img" src="#PRODUCT_IMAGE_SRC#" alt="#PRODUCT_TITLE#" style="display: block;" width="128" title="#PRODUCT_TITLE#"></a></td>\n                    </tr>\n                    </tbody>\n                </table>\n            </td>\n            <td class="es-hidden" width="20"></td>\n        </tr>\n        </tbody>\n    </table>\n    \x3c!--[if mso]></td><td width="248" valign="top"><![endif]--\x3e\n    <table cellpadding="0" cellspacing="0" align="left" class="es-left">\n        <tbody>\n        <tr>\n            <td width="248" class="es-m-p0r esd-container-frame" valign="top" align="center">\n                <table cellpadding="0" cellspacing="0" width="100%">\n                    <tbody>\n                    \x3c!--[if !mso]>\x3c!-- --\x3e\n                    <tr class="esd-desk-hidden">\n                        <td align="center" class="esd-block-spacer esd-layout-removable-block-if-empty" height="10">\n                        </td>\n                    </tr>\n                    \x3c!--<![endif]--\x3e\n                    <tr>\n                        <td align="left" class="esd-block-text ext-product-name">\n                            <p style="color: #555555; font-size: 14px; line-height:20px; font-weight: bold;">#PRODUCT_TITLE#</p>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td align="left" class="esd-block-text ext-product-vendor-code">\n                            <p style="font-size: 12px; color: #8288ab; line-height: 20px;">#PRODUCT_VENDOR_CODE#</p>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td align="left" class="esd-block-text ext-product-dimensions">\n                            <p style="font-size: 12px; color: #8288ab; line-height: 20px;">#PRODUCT_DIMENSIONS#</p>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td align="left" class="esd-block-text ext-product-price">\n                            <p style="color: #555555; font-size: 14px; line-height: 20px; font-weight: bold;">#PRODUCT_PRICE#</p>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n            </td>\n        </tr>\n        </tbody>\n    </table>\n    \x3c!--[if mso]></td><td width="20"></td><td width="144" valign="top"><![endif]--\x3e\n    <table cellpadding="0" cellspacing="0" class="es-right" align="right">\n        <tbody>\n        <tr>\n            <td width="144" align="left" class="esd-container-frame">\n                <table cellpadding="0" cellspacing="0" width="100%">\n                    <tbody>\n                    <tr class="esd-desk-hidden">\n                        <td align="center" class="esd-block-spacer esd-layout-removable-block-if-empty" height="10">\n                        </td>\n                    </tr>\n                    <tr>\n                        <td align="right" class="esd-block-button ext-product-button es-m-txt-l">\n                            <span class="msohide es-button-border"><a href="#PRODUCT_HREF#" class="es-button" target="_blank">#PRODUCT_BUTTON_TEXT#</a></span>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n            </td>\n        </tr>\n        </tbody>\n    </table>\n    \x3c!--[if mso]></td></tr></table><![endif]--\x3e\n</td>'),n)}else e.updateStructureLayoutForHorizontalOrientation(t,h(),n);o.setBlockConfiguration(t,n),e.triggerEvent("layoutChanged")}function f(t,e){e||(e=o.getBlockConfiguration(t)||{});var n=o.getOrCreateConfig(e);return n.groups.length?t.attr("data-product-groups",n.groups.map((function(t){return t.id})).join(",")).removeClass("product-block-empty"):t.removeAttr("data-product-groups").addClass("product-block-empty"),o.setBlockConfiguration(t,n),n}function g(t){t.find(">.esd-structure-type").html(m(t))}function h(){return'<td class="esd-structure esd-product-empty-layout" align="left">\n    <table cellpadding="0" cellspacing="0" width="100%">\n        <tbody>\n            <tr>\n                <td width="560" class="esd-container-frame" align="center" valign="top">\n                    <table cellpadding="0" cellspacing="0" width="100%">\n                        <tbody>\n                            <tr>\n                                <td class="esd-block-html">\n                                    <span class="es-icon-image" title="#SELECT_GROUP#"></span>\n                                    <span class="product-block-text">#SELECT_GROUP#</span></td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</td>\n'.replace(/#SELECT_GROUP#/g,e.translate("preview.empty.description"))}function m(t){return o.getBlockConfiguration(t).groups.map((function(t){return t.name})).join(", ")||e.translate("preview.label")}function y(t){var n=e.getFullDomTree().find(".".concat("product-block","[").concat("data-product-groups","]")),o=[];return n.each((function(){var n=e.jQuery(this);n.is(t)||(o=o.concat(n.attr("data-product-groups").split(",")))})),o}return{name:"DemoProductBlock",iconClass:"es-icon-product",uniqueClassName:"product-block",canBeSavedToLibrary:!0,settingsCssPath:"/assets/css/settings.css",previewCssPath:"/assets/css/preview.css",i18n:E,blockName:"block.name",emptyContainerIcon:!0,blockType:"multi-orientation",blockConfigAttributeNames:["esd-dev-product-config"],controlsToCreate:[{control:ee,parentControlName:"stripoStructureBorderControl"},{control:ce,parentControlName:"stripoStructurePaddingsControl"},{control:V,parentControlName:"stripoBackgroundColorControl"},{control:K,parentControlName:"stripoBorderControl"},{control:G},{control:W},{control:Y},{control:nt},{control:Be,parentControlName:"stripoImageSizeControl"},{control:ut,parentControlName:"stripoFontColorControl"},{control:ft,parentControlName:"stripoTextAlignControl"},{control:yt,parentControlName:"stripoTextStyleControl"},{control:Pe,parentControlName:"stripoTextLineSpacingControl"},{control:ue,parentControlName:"stripoPaddingСontrol"},{control:Pt,parentControlName:"stripoButtonColorControl"},{control:St,parentControlName:"stripoButtonStyleControl"},{control:Bt,parentControlName:"stripoButtonTextControl"},{control:It,parentControlName:"stripoButtonTextColorControl"},{control:Se,parentControlName:"stripoButtonBorderControl"},{control:Kt,parentControlName:"stripoButtonBorderRadiusControl"},{control:Ft,parentControlName:"stripoButtonAlignControl"},{control:qt,parentControlName:"stripoButtonStretchControl"},{control:ye,parentControlName:"stripoButtonInternalPaddingControl"},{control:fe,parentControlName:"stripoPaddingСontrol"}],blockControls:[c,a,l,i,s,u,p],isEnabled:function(){return t.productDemoBlock&&t.productDemoBlock.enabled},emailInitialized:function(n){var r=n.find(".".concat("product-block","[").concat("data-product-groups","]"));if(r.length){var i=t.productDemoBlock.groups,c=[];r.each((function(){var t=e.jQuery(this);t.html(b(t.html()));var n=o.getBlockConfiguration(t),r=!1,a=!1,l=[];n.groups.forEach((function(t){var e=i.find((function(e){return e.id==t.id}));!e||c.includes(t.id)?(l.push(t.id),a=!0):(e.name!==t.name&&(t.name=e.name,r=!0),e.count!=t.count&&(t.count=e.count,a=!0))})),l.length&&(n.groups=n.groups.filter((function(t){return!l.includes(t.id)}))),(a||r)&&(n=f(t,n),g(t)),a&&d(t,n),c=c.concat(n.groups.map((function(t){return t.id})))}))}},getBlockLayoutToDrop:function(){var t=e.jQuery(h());return f(t),t[0].outerHTML},blockDropped:function(t){g(t)},getBlockLabel:m,getDefaultSettingsPanelState:function(t){return{blockConfig:o.getBlockConfiguration(t),disabledGroupsIds:y(t)}},onCleanLayout:function(t,e){t.find(".".concat("product-block-empty")).parent().remove(),t.find(".".concat("product-block")).each((function(){var t,n,o=e(this,null,null,{decodeEntities:!1});o.html((t=o.html(),n=t,r().forEach((function(t){t.skipDecode||(n=n.replace(new RegExp(t.value,"g"),t.key))})),n))}))},onBlockCopy:function(t,e){var n=o.getBlockConfigurationForCopiedBlock(e);d(e,n=f(e,n)),g(e)},updateLayout:d,wrapBlockWithTypeIdentifierAttributesAndGetConfig:f,updateBlockLabel:g,blockConfigurationService:o}}function Te(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ve(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Te(Object(n),!0).forEach((function(e){Ie(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ae={create:function(t,e,n){return Object.assign(Ve(Ve({stripoConfig:t,stripoApi:e,extensionBasePath:n},o),_e(t,e,n)))}};self.ProductBlockExtension=Ae}]);